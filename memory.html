<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø°Ù‡Ù† Ùˆ Ø­Ø§ÙØ¸Ù‡ | Ù‡Ù…ÛŒØ§Ø±</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
body{
font-family: Vazirmatn, sans-serif;
background:#f3f8ff;
margin:-20px;
padding:20px;
direction:rtl;
}
h2,h3{text-align:center;margin-bottom:15px;}
/* Ù‡Ø¯Ø± Ùˆ Ù†ÙˆØ§Ø± Ù…Ø´ØªØ±Ú© */
header{
background: linear-gradient(135deg,#1f4fd8,#3b6fe8); /* Ø¢Ø¨ÛŒ Ù¾Ø±Ø±Ù†Ú¯ */
color:#fff;
padding:25px 50px;
display:flex;
justify-content:space-between;
align-items:center;
}
header h1{
margin:0;
font-size:18px; /* Ù…Ø«Ù„ Ø¨Ù‚ÛŒÙ‡ ØµÙØ­Ø§Øª */
font-weight:800;
}
nav a{
margin-right:20px;
color:#fff;
font-weight:700;
font-size:18px; /* Ù…Ø«Ù„ Ø¨Ù‚ÛŒÙ‡ ØµÙØ­Ø§Øª */
text-decoration:none;
}
nav a:hover{
text-decoration:underline;
}

/* Ù†ÙˆØ§Ø± Ø²ÛŒØ± Ù‡Ø¯Ø± */
.sub-bar{
background:#dbe9ff; /* Ø¢Ø¨ÛŒ Ú©Ù…â€ŒØ±Ù†Ú¯ */
text-align:center;
padding:14px 10px;
font-size:20px;
font-weight:700;
color:#000;
}

/* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ Ø­Ø§ÙØ¸Ù‡ */
.memory-grid{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:8px;
margin-bottom:20px;
}
.memory-card{
aspect-ratio:0.9/1;
border-radius:12px;
cursor:pointer;
background-size:cover;
background-position:center;
background-color:#ccc;
}

/* Ù¾Ø§Ø²Ù„ ØªØµÙˆÛŒØ±ÛŒ */
.puzzle-grid{
display:grid;
grid-template-columns:repeat(4,1fr);
gap:15px;
}
.puzzle-item{
border:6px solid;
border-radius:18px;
overflow:hidden;
}
.puzzle-item img{
width:100%;
height:140px;
object-fit:cover;
}
.word-list{
display:flex;
flex-wrap:wrap;
gap:10px;
justify-content:center;
margin-top:15px;
}
.word{
padding:8px 16px;
border-radius:20px;
background:#eee;
cursor:pointer;
font-weight:bold;
}

/* Ø¬Ø¯ÙˆÙ„ Ø­Ø±ÙˆÙ */
.stage-title{text-align:center;font-weight:bold;margin-bottom:10px;}
.letters{
display:grid;
grid-template-columns:repeat(6,1fr);
gap:8px;
max-width:320px;
margin:auto;
}
.letter{
background:#e0ebff;
padding:15px;
text-align:center;
border-radius:10px;
cursor:pointer;
font-weight:bold;
}

/* Ø¬Ø¯ÙˆÙ„ Ø§Ø¹Ø¯Ø§Ø¯ */
.math-question{text-align:center;font-size:20px;margin-bottom:10px;font-weight:bold;}
.math-msg{text-align:center;color:#ff2f6e;margin-bottom:10px;font-weight:bold;}
.number-grid{
display:grid;
grid-template-columns:repeat(10,1fr);
gap:6px;
max-width:500px;
margin:auto;
}
.number{
background:#4a90e2;
color:white;
padding:12px 0;
text-align:center;
border-radius:10px;
cursor:pointer;
font-weight:bold;
}
.number.correct{background:#3cb371;}

/* Ú†Øª */
.chat-box{display:flex;gap:10px;margin-top:10px;max-width:500px;margin:auto;}
.chat-box input{
flex:1;
padding:10px;
border-radius:10px;
border:1px solid #ccc;
}
.chat-box button{
padding:10px 20px;
border:none;
border-radius:10px;
background:#ff7aa2;
color:white;
cursor:pointer;
}

/* Ø¨Ø®Ø´â€ŒÙ‡Ø§ */
.section{
background:#fff;
padding:20px;
border-radius:20px;
margin-bottom:40px;
box-shadow:0 10px 25px rgba(0,0,0,.08);
}
.coach{display:flex;gap:15px;align-items:center;margin-top:15px;}
.coach img{width:60px;height:60px;border-radius:50%;}
.coach-msg{background:#e6f0ff;padding:10px 15px;border-radius:15px;}
</style>
</head>
<body>

<header>
<h1>Ù‡Ù…ÛŒØ§Ø±</h1>
<nav>
<a href="index.html">Ø®Ø§Ù†Ù‡</a>
<a href="health.html">Ø³Ù„Ø§Ù…Øª</a>
<a href="memory.html">Ø°Ù‡Ù† Ùˆ Ø­Ø§ÙØ¸Ù‡</a>
<a href="fun.html">Ø³Ø±Ú¯Ø±Ù…ÛŒ</a>
<a href="books.html">Ú©ØªØ§Ø¨â€ŒØ®ÙˆØ§Ù†</a>
<a href="contact.html">Ø§Ø±ØªØ¨Ø§Ø·</a>
<a href="about.html">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
<a href="profile.html" class="profile">Ù¾Ø±ÙˆÙØ§ÛŒÙ„</a>
</nav>
</header>

<div class="sub-bar">
ğŸ§  Ø¨Ø®Ø´ Ø°Ù‡Ù† Ùˆ Ø­Ø§ÙØ¸Ù‡
</div>

<!-- Ø­Ø§ÙØ¸Ù‡ -->
<div class="section">
<h3>ğŸƒ Ø¨Ø§Ø²ÛŒ Ø­Ø§ÙØ¸Ù‡</h3>
<div class="memory-grid" id="memory"></div>
<div class="coach">
<img src="assets/images/coach_photo.jpg">
<div class="coach-msg" id="memoryMsg">Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø§Ø¨Ù‡ Ø±Ùˆ Ù¾ÛŒØ¯Ø§ Ú©Ù† ğŸŒ¸</div>
</div>
</div>

<!-- Ù¾Ø§Ø²Ù„ -->
<div class="section">
<h3>ğŸ§© Ù¾Ø§Ø²Ù„ ØªØµÙˆÛŒØ±ÛŒ</h3>
<div class="puzzle-grid" id="puzzleGrid"></div>
<div class="word-list" id="words"></div>
</div>

<!-- Ø¬Ø¯ÙˆÙ„ Ø­Ø±ÙˆÙ -->
<div class="section">
<h3>ğŸ”¤ Ø¬Ø¯ÙˆÙ„ Ø­Ø±ÙˆÙ</h3>
<div class="stage-title" id="stageTitle"></div>
<div class="letters" id="letters"></div>
</div>

<!-- Ø¬Ø¯ÙˆÙ„ Ø§Ø¹Ø¯Ø§Ø¯ -->
<div class="section">
<h3>ğŸ”¢ ØªÙ…Ø±ÛŒÙ† Ø±ÛŒØ§Ø¶ÛŒ</h3>
<div class="math-msg" id="mathMsg"></div>
<div class="math-question" id="mathQ"></div>
<div class="number-grid" id="numbers"></div>
</div>

<!-- Ú†Øª -->
<div class="section">
<h3>ğŸ’¬ Ú†Øª Ø¨Ø§ Ù…Ø±Ø¨ÛŒ</h3>
<div class="chat-box">
<input id="chatInput" placeholder="Ù¾ÛŒØ§Ù… Ø´Ù…Ø§...">
<button onclick="sendMsg()">Ø§Ø±Ø³Ø§Ù„</button>
</div>
<div class="coach">
<img src="assets/images/coach_photo.jpg">
<div class="coach-msg" id="chatMsg">Ø³Ù„Ø§Ù… ğŸŒ¸ Ú†Ù‡ Ú©Ù…Ú©ÛŒ Ø§Ø² Ù…Ù† Ø¨Ø±Ù…ÛŒØ§Ø¯ØŸ</div>
</div>
</div>

<script>
function celebrate(){ confetti({particleCount:120,spread:90,origin:{y:0.6}}); }

/* Ø­Ø§ÙØ¸Ù‡ */
let imgs=[];
for(let i=1;i<=12;i++){imgs.push(i,i);}
imgs.sort(()=>0.5-Math.random());
let open=[];
imgs.forEach(n=>{
let d=document.createElement("div");
d.className="memory-card";
d.onclick=()=>{
if(open.length<2 && !d.style.backgroundImage){
d.style.backgroundImage=`url(assets/images/${n}.jpg)`;
open.push({n,d});
if(open.length===2){
setTimeout(()=>{
if(open[0].n!==open[1].n){
open.forEach(o=>o.d.style.backgroundImage="");
}else{
celebrate();
memoryMsg.innerText="Ø¢ÙØ±ÛŒÙ† ğŸ‘";
}
open=[];
},700);
}
}
}
memory.appendChild(d);
});

/* Ù¾Ø§Ø²Ù„ ØªØµÙˆÛŒØ±ÛŒ */
const puzzles=[
{img:"puzzle1.jpg",word:"Ø¨Ù‡Ø§Ø±",color:"#2ecc71"},
{img:"puzzle2.jpg",word:"Ù¾Ø§ÛŒÛŒØ²",color:"#e67e22"},
{img:"puzzle3.jpg",word:"Ø¢Ø³Ù…Ø§Ù†",color:"#85c1e9"},
{img:"puzzle4.jpg",word:"Ø·Ø§ÙˆÙˆØ³",color:"#e74c3c"},
{img:"puzzle5.jpg","word":"ÙˆÛŒÙ„Ú†Ø±","color":"#f1c40f"},
{img:"puzzle6.jpg","word":"Ø¯ÙˆÚ†Ø±Ø®Ù‡","color":"#ff6fae"},
{img:"puzzle7.jpg","word":"Ø¯Ú©ØªØ±","color":"#82e0aa"},
{img:"puzzle8.jpg","word":"Ø¯Ø±ÛŒØ§","color":"#3498db"}
];
const extraWords=["Ø²Ù…Ø³ØªØ§Ù†","Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±"];
let wordsArr=[...puzzles.map(p=>p.word),...extraWords].sort(()=>0.5-Math.random());
puzzles.forEach(p=>{
let box=document.createElement("div");
box.className="puzzle-item";
box.style.borderColor=p.color;
box.innerHTML=`<img src="assets/images/${p.img}">`;
puzzleGrid.appendChild(box);
});
wordsArr.forEach(w=>{
let el=document.createElement("div");
el.className="word";
el.innerText=w;
el.onclick=()=>{
const p=puzzles.find(x=>x.word===w);
if(p){
el.style.background=p.color;
el.style.color="#fff";
celebrate();
}
};
words.appendChild(el);
});

/* Ø¬Ø¯ÙˆÙ„ Ø­Ø±ÙˆÙ */
const stages=["Ø¹ÛŒÙ†Ú©","Ø¯Ø§Ø±Ùˆ","Ø¨ÛŒÙ…Ù‡","Ù¾Ø±Ø³ØªØ§Ø±"];
let stage=0,found="";
function loadStage(){
found="";
stageTitle.innerText="Ú©Ù„Ù…Ù‡: "+stages[stage];
letters.innerHTML="";
const pool="Ø§Ø¨ØªØ«Ø¬Ú†Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙ‚Ú©Ú¯Ù„Ù…Ù†ÙˆÙ‡ÛŒ".split("").sort(()=>0.5-Math.random());
pool.slice(0,36).forEach(l=>{
let d=document.createElement("div");
d.className="letter";
d.innerText=l;
d.onclick=()=>{
if(stages[stage].includes(l)){
d.style.background="#3cb371";
d.style.color="#fff";
found+=l;
if([...new Set(found)].length===stages[stage].length){
celebrate();
stage++;
if(stage<stages.length) setTimeout(loadStage,800);
else stageTitle.innerText="Ø¢ÙØ±ÛŒÙ†! Ù‡Ù…Ù‡ Ù…Ø±Ø§Ø­Ù„ Ú©Ø§Ù…Ù„ Ø´Ø¯ ğŸŒŸ";
}
}
}
letters.appendChild(d);
});
}
loadStage();

/* Ø¬Ø¯ÙˆÙ„ Ø§Ø¹Ø¯Ø§Ø¯ */
const qs=[
{q:"12 + 8",a:20},
{q:"30 - 7",a:23},
{q:"15 + 10",a:25},
{q:"40 - 18",a:22},
{q:"9 + 6",a:15}
];
let qi=0;
mathQ.innerText=qs[0].q;
for(let i=1;i<=100;i++){
let d=document.createElement("div");
d.className="number";
d.innerText=i;
d.onclick=()=>{
if(i===qs[qi].a){
d.classList.add("correct");
mathMsg.innerText="";
celebrate();
qi++;
if(qi<qs.length) mathQ.innerText=qs[qi].q;
}else{
mathMsg.innerText="âŒ Ø§Ø´ØªØ¨Ø§Ù‡ Ø´Ø¯ØŒ Ø¨Ø§ Ø¯Ù‚Øª Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†";
}
}
numbers.appendChild(d);
}

/* Ú†Øª */
function sendMsg(){
const txt=chatInput.value;
if(txt.includes("Ø±ÛŒØ§Ø¶ÛŒ")){
chatMsg.innerText="Ù†Ú¯Ø±Ø§Ù† Ù†Ø¨Ø§Ø´ ğŸŒ¸ Ø¨Ø§ Ù‡Ù… Ø§Ù†Ø¬Ø§Ù…Ø´ Ù…ÛŒØ¯ÛŒÙ…ØŒ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ§ÛŒØŸ";
}else{
chatMsg.innerText="Ù¾ÛŒØ§Ù…Øª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯ ğŸŒ¸";
}
chatInput.value="";
}

/* Ø°Ø®ÛŒØ±Ù‡ Ù¾ÛŒØ´Ø±ÙØª Ø¨Ø§ localStorage */
function saveProgress(){
localStorage.setItem('memory_stage',stage);
localStorage.setItem('math_index',qi);
}
window.addEventListener('beforeunload',saveProgress);
</script>

</body>
</html>